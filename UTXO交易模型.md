**UTXO（Unspent Transaction Output，未花费交易输出）** 是比特币和其他一些区块链系统中用于跟踪交易和余额的核心概念。它和传统的账户模型（比如银行账户）有很大的不同。

### 1. **UTXO 的定义**

- **UTXO** 是指一笔交易的输出（Output），它还没有被用作另一笔交易的输入（Input）。
    
- 简单来说，UTXO 就是“可以花的钱”。
    
- 比特币网络中的所有 UTXO 集合，代表了当前所有可用的比特币余额。
    

---

### 2. **UTXO 的工作原理**

- 比特币的交易是基于输入和输出的模型：
    
    - **输入**：引用之前的 UTXO，证明你有权花费这些比特币。
        
    - **输出**：创建新的 UTXO，指定接收方的地址和金额。
        
- 每笔交易会消耗（花费）一些 UTXO，并生成新的 UTXO。
    

---

### 3. **UTXO 的生命周期**

- **创建**：当一笔交易被矿工打包进区块时，它的输出会成为新的 UTXO。
    
- **花费**：当这笔 UTXO 被用作另一笔交易的输入时，它就被“花费”了，不再是 UTXO。
    
- **销毁**：被花费的 UTXO 会从 UTXO 集合中移除。
    

---

### 4. **UTXO 的例子**

假设 Alice 有 1 个比特币，她想发送 0.6 个比特币给 Bob，并找零 0.4 个比特币给自己。

#### （1）**初始状态**

- Alice 的钱包中有一个 UTXO，价值 1 个比特币。
    

#### （2）**创建交易**

- Alice 创建一笔交易：
    
    - **输入**：引用她的 1 个比特币 UTXO。
        
    - **输出**：
        
        - 0.6 个比特币给 Bob。
            
        - 0.4 个比特币作为找零返回给自己。
            

#### （3）**交易后状态**

- 原来的 1 个比特币 UTXO 被花费，不再是 UTXO。
    
- 新的 UTXO：
    
    - 0.6 个比特币给 Bob。
        
    - 0.4 个比特币给 Alice。
        

---

### 5. **UTXO 的优点**

- **透明性**：所有 UTXO 都是公开的，任何人都可以验证交易的合法性。
    
- **并行处理**：由于每笔交易独立引用 UTXO，可以并行处理多笔交易。
    
- **安全性**：UTXO 模型天然支持多重签名和复杂脚本，增强了安全性。
    

---

### 6. **UTXO 的缺点**

- **复杂性**：UTXO 模型比账户模型更复杂，尤其是在计算余额时。
    
- **存储开销**：UTXO 集合会随着时间增长，需要更多的存储空间。
    

---

### 7. **UTXO 与账户模型的对比**

- **UTXO 模型**：
    
    - 比特币使用。
        
    - 基于交易输出，余额是 UTXO 的总和。
        
    - 更适合高安全性和透明性的场景。
        
- **账户模型**：
    
    - 以太坊使用。
        
    - 基于账户余额，直接记录每个账户的余额。
        
    - 更适合智能合约和复杂逻辑的场景。