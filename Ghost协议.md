# 1.概述

在[以太坊](https://zhida.zhihu.com/search?content_id=118197420&content_type=Article&match_order=1&q=%E4%BB%A5%E5%A4%AA%E5%9D%8A&zhida_source=entity)系统中平均出块时间为15秒，相比比特币系统的出块时间10分钟，这个时间大大降低了，虽然提高了系统的反应效率和吞吐量，但是会出现大量的分叉问题。

为什么会出现大量的分叉呢？因为出块时间降低到15s，意味着挖矿难度也大大降低，比如当矿工Zarten1挖到矿了，广播到全网，由于消息在网络中传播也是需要时间的（可能比15s还长），有可能矿工Zarten2在收到Zarten1消息前也挖到矿了，此时就形成了一个分叉。由于在网络中大量的矿工，所以会形成大量的分叉。

按照比特币的最长链原则，如果形成了大量分叉，则会有大量矿工虽然挖到矿了，但可能会被废弃掉，这将严重的降低了矿工们的积极性。同时出现大量分叉后将会分散全网算力，给黑客的攻击降低了成本。

同时出块时间减少，因为大型矿池的算力及网络的地理位置都比较有优势，这就造成了全网出块大部分都掌握在大型矿池手中，这样对小矿工及系统的安全性都非常不利。

那么如何解决上面的问题呢？

![[Pasted image 20250420134620.png]]

如上图所示，在区块A后面出现了多个分叉，假设区块Zarten是最先发布的，那么区块Zarten很可能成为主链，其他节点收到广播后就在区块Zarten之后开始挖矿，假设后面区块Zarten_a挖到矿了，此时区块Zarten_a可以接纳Zarten1、Zarten2、Zarten3，也就是给点好处他们，让他们不再继续在自己下面挖了，来区块Zarten_a后面挖，根据这样的原理，就促使大家都在主链上延续下去，避免出现分叉而导致的问题。

上图中，Zarten1、Zarten2、Zarten3被称为Zarten_a的[叔父块](https://zhida.zhihu.com/search?content_id=118197420&content_type=Article&match_order=1&q=%E5%8F%94%E7%88%B6%E5%9D%97&zhida_source=entity)，如果叔父块被接纳，只有叔父块会得到好处（奖励），叔父块后面挖的区块不会得到好处。因为如果叔父块后面的区块也有奖励，那么给黑客攻击的成本太低了，黑客进行分叉攻击就算不成功也可以得到奖励，所以只有叔父块才有奖励。

叔父块们挖到矿了，虽然依旧会被废弃掉，但也拿到了相应的奖励，这样对矿工们的积极性起到了推动作用。同时叔父块中的交易会重新回到交易池中，待其他节点打包。

**叔父块的定义及奖励规则**

**叔父块定义**

在以太坊中叔父不是严格意义上的叔父，在以太坊中规定在当前区块的7代以内有共同祖先的都可以认为是叔父块。且每远离自己一个区块的叔父块得到的奖励就减少1/8，这也是以太坊鼓励矿工们尽快合并减少分叉的策略。如下图所示：

![[Pasted image 20250420134743.png]]
**叔父块特点及奖励**

1.某个区块最多只能接纳2个叔父块，也可以不接纳任何叔父块

2.叔父块必须是区块的前2层～前7层的祖先的直接子块

3.被接纳过的叔父块不能再重复接纳了

4.接纳了n个叔父块的区块，可以获得出块奖励的n*1/32

5.被引用了的叔父块，随着距离越远，得到的奖励递减1/8，如下图所示：

![](https://pic3.zhimg.com/v2-944951aa2c9eea628544213f5da499dc_1440w.jpg)